var _=Object.defineProperty,D=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var x=(t,a,s)=>a in t?_(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,g=(t,a)=>{for(var s in a||(a={}))M.call(a,s)&&x(t,s,a[s]);if(f)for(var s of f(a))w.call(a,s)&&x(t,s,a[s]);return t},v=(t,a)=>D(t,q(a));var b=(t,a)=>{var s={};for(var r in t)M.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&f)for(var r of f(t))a.indexOf(r)<0&&w.call(t,r)&&(s[r]=t[r]);return s};import{j as $,R as P,a as E,b as T,r as d,c as K,d as G,e as A,f as Y,B as z,g as H,h as J}from"./vendor.6331e24e.js";const W=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}};W();const U="392f56ed610e68191dc6dd37d25782a6",Z="https://api.themoviedb.org/3",Q="pt-BR",C="https://image.tmdb.org/t/p/original";var O=async t=>await fetch(`${Z}/search/movie?api_key=${U}&language=${Q}&query=${t}`).then(a=>a.json());const e=$.exports.jsx,o=$.exports.jsxs,h=n=>{var i=n,{children:t,className:a="",component:s="a"}=i,r=b(i,["children","className","component"]);return e(s,v(g({className:`button ${a}`},r),{children:t}))};const V=({data:t,indexOf:a,removeFromSlot:s})=>o("div",{className:"movies-sprites",onClick:n=>{s(a)},children:[e("div",{className:"remove-sprite",children:e(P,{})}),e("img",{src:t})]});const X=({data:t,img_url:a})=>{let s=new Date(t.release_date);return o("div",{className:"raffled-container",children:[e("div",{className:"raffled-sprite",children:e("img",{src:a+t.poster_path})}),o("div",{className:"raffled-info",children:[e("h1",{className:"title",children:t.title}),e("p",{className:"overview",children:t.overview}),o("div",{className:"raffled-details",children:[o("span",{className:"date details",children:[e(E,{className:"ri-line"})," ",s.getFullYear()]}),o("span",{className:"vote details",children:[e(T,{className:"ri-line"})," ",t.vote_average]})]})]})]})};const N=i=>{var c=i,{type:t,className:a,name:s,placeholder:r}=c,n=b(c,["type","className","name","placeholder"]);return e("input",v(g({type:t,name:s,placeholder:r},n),{className:a}))},ee=()=>{const[t,a]=d.exports.useState([]),[s,r]=d.exports.useState(""),[n,i]=d.exports.useState([]),[c,u]=d.exports.useState([]),[y,j]=d.exports.useState(),[S,m]=d.exports.useState({type:"",message:""});console.log(t);const k=l=>{const p=document.querySelector(".input-container");/[a-zA-Z0-9]/.test(l.target.value)?(p.classList.remove("error-input"),m({}),(l.key===13||l.key=="Enter")&&R()):(p.classList.add("error-input"),m({type:"error",message:"Just use letters and numbers!"}),r(""))},R=()=>{c.length=0,L()},L=()=>{s.length!=0&&(O(s).then(l=>{t.length<=9?a([...t,l.results[0]]):m({type:"error",message:"You have reached the maximum number of movies in the list. Click on the raffle button."})}),i([...n,s]),r(""))},F=()=>{B()},B=()=>{const l=Math.floor(Math.random()*n.length);O(n[l]).then(p=>{n.length!=0&&n.length>=2?(m({}),t.length=0,u(p.results[0]),n.length=0):m({type:"error",message:"You need to have 2 or more items on your list to be able to raffle."})})},I=l=>{j(t.splice(l,1)),n.splice(l,1)};return e("div",{className:"raffle-content",children:o("div",{className:"raffle",children:[o("div",{className:"raffle-container",children:[e("h1",{children:"Choose the Movies"}),e("p",{children:"Add movies"}),o("div",{className:"input-container",children:[e(h,{component:"button",className:"add-button",onClick:R,children:e(K,{})}),e(N,{type:"text",name:"search",placeholder:"eg. Spider Man",onChange:l=>r(l.target.value),value:s,onKeyDown:k,maxLength:"40",className:"raffle-input"})]}),e("div",{className:S.type==="error"?"notification error":"hidden",children:e("p",{children:S.message})}),e(h,{component:"button",className:"raffle-button",onClick:F,children:"Raffle now"})]}),e("div",{className:"bar"}),c.length!=0?e(X,{data:c,img_url:C}):t.length!=0?e("div",{className:"movies-container",children:t.map(l=>e(V,{data:C+(l==null?void 0:l.poster_path),indexOf:t.indexOf(l),removeFromSlot:I}))}):e("p",{children:"Add movies to the list... Lets raffle. \u{1F609}"})]})})};const te=()=>e("div",{className:"home",children:o("main",{className:"main container",children:[o("div",{className:"home-message",children:[e("h1",{children:"Raffle Movies: What Should i Watch?"}),o("p",{children:["Based on a list of movies from 2 to 10, I, ",e("span",{children:"Raffle Movies"})," will raffle a suggestion for you, who are undecided on which movie to watch \u{1F60A}"]})]}),e(ee,{})]})});const se=()=>{const[t,a]=d.exports.useState({name:"",email:"",message:"",subjext:"",accessKey:"7e564d6d-e70c-4a13-b576-1dba21877d0d"}),[s,r]=d.exports.useState({type:"",message:""}),n=c=>{a(v(g({},t),{[c.target.name]:c.target.value}))};return o("form",{action:"https://api.staticforms.xyz/submit",method:"POST",className:"form",onSubmit:async c=>{c.preventDefault();try{const y=await(await fetch("https://api.staticforms.xyz/submit",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json();y.success?r({type:"success",message:"Thank you for sending this suggestion, we will read it with care."}):r({type:"error",message:y.message})}catch(u){console.log(u),r({type:"error",message:"An error occurred while submitting your suggestion, please try again."})}},children:[e(N,{type:"text",name:"name",placeholder:"Name",className:"input",required:!0,onChange:n}),e(N,{type:"text",name:"subject",placeholder:"Subject",className:"input",required:!0,onChange:n}),e(N,{type:"email",name:"email",placeholder:"Email",className:"input",required:!0,onChange:n}),e("textarea",{placeholder:"Message",name:"message",onChange:n,required:!0}),e("div",{className:s.type==="success"?"notification success":"hidden",children:e("p",{children:s.message})}),e("div",{className:s.type==="error"?"notification error":"hidden",children:e("p",{children:s.message})}),e(h,{component:"button",className:"form-button",type:"submit",children:"Send"})]})};const ae=()=>o("main",{className:"suggest-container",children:[o("div",{className:"form-container",children:[e("h1",{children:"Suggest"}),e("p",{children:"Suggest me something"}),e(se,{})]}),e("div",{className:"suggest-banner",children:e("img",{src:"assets/images/email-banner.png"})})]}),ne=()=>o(G,{children:[e(A,{path:"/raffle-movies-website/",element:e(te,{})}),e(A,{path:"/raffle-movies-website/suggest",element:e(ae,{})})]});const re=()=>e("footer",{className:"footer",children:o("p",{children:["A fun and personal project created by ",e("span",{children:"Bruno Coutinho"}),". Source code available on Github."]})});const oe=()=>e("nav",{className:"nav",children:o("div",{className:"navbar container",children:[e("div",{className:"logo",children:e(h,{href:"/",children:e("img",{src:"assets/images/logo.png"})})}),e("div",{className:"menu-container",children:e("ul",{className:"menu",children:e("li",{children:o(h,{href:"/suggest",className:"navlink",children:["Suggest me ",e(Y,{})]})})})})]})});function ie(){return e("div",{className:"App",children:o(z,{children:[e(oe,{}),e(ne,{}),e(re,{})]})})}H.render(e(J.StrictMode,{children:e(ie,{})}),document.getElementById("root"));
